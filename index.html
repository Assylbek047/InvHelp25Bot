<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <title>Private Banking — Mini App</title>

  <!-- Подключение шрифтов -->
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Great+Vibes&display=swap" rel="stylesheet">

  <!-- Стили -->
  <link rel="stylesheet" href="style.css?v=5" />

  <!-- Telegram SDK -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <style>
    #welcome[hidden], .hide { display:none !important; }
    #app { min-height:100svh; position:relative; }
    body, html { margin:0; padding:0; height:100%; }
    .top-news { position:sticky; top:calc(env(safe-area-inset-top) + 56px); z-index:6; }
    .news-list a { color:inherit; text-decoration:underline; position:relative; z-index:10; pointer-events:auto; }
  </style>
</head>
<body>
  <section id="welcome" class="screen">
    <h1 class="brand">Private<br/>Banking</h1>
    <p class="tagline">Ваш персональный инвестиционный ассистент</p>
    <button id="enterBtn" class="btn btn-accent">Войти</button>
  </section>

  <section id="app" class="app" hidden>
    <header class="top">
      <div class="title">Инвест-ассистент</div>
      <button id="fab" class="btn btn-accent ghost">Обновить все</button>
    </header>

    <nav class="tabs" id="tabs" style="position:sticky; top:calc(env(safe-area-inset-top) + 8px); z-index:7;">
      <button class="tab active" data-target="home">Главная</button>
      <button class="tab" data-target="crypto">Crypto</button>
      <button class="tab" data-target="stocks">Stocks</button>
      <button class="tab" data-target="commodities">Commodities</button>
      <button class="tab" data-target="profile">Профиль</button>
    </nav>

    <main>
      <section id="home" class="view active">
  <!-- Новости / Инсайты -->
  <div class="card top-news">
    <div class="card-title">Новости / Инсайты</div>
    <div id="news-home" class="news-list"></div>
  </div>

  <!-- Сводка -->
  <div class="card">
    <div class="card-title">Сводка</div>
    <div id="home-brief" class="list">
      <div class="sk sk-line"></div>
      <div class="sk w50"></div>
    </div>
  </div>

  <!-- Графики на главной -->
  <div class="grid">
    <div class="card"><div class="card-title">BTC — 30 дней</div><canvas id="chart-btc"></canvas></div>
    <div class="card"><div class="card-title">AAPL — 30 дней</div><canvas id="chart-aapl"></canvas></div>
    <div class="card"><div class="card-title">GOLD — 30 дней</div><canvas id="chart-gold"></canvas></div>
  </div>

  <!-- Списки цен -->
  <div class="card"><div class="card-title">Крипта</div><div id="crypto-list" class="list"></div></div>
  <div class="card"><div class="card-title">Акции / ETF</div><div id="stocks-list" class="list"></div></div>
  <div class="card"><div class="card-title">Commodities</div><div id="commodities-list" class="list"></div></div>
</section>

      <section id="crypto" class="view">
  <div class="card top-news">
    <div class="card-title">Новости (Crypto)</div>
    <div id="news-crypto" class="news-list"></div>
  </div>
  <div class="card"><div class="card-title">Котировки</div><div id="crypto-only" class="list"></div></div>
  <div class="card"><div class="card-title">BTC — график</div><canvas id="chart-btc-tab"></canvas></div>
</section>

      <section id="stocks" class="view">
  <div class="card top-news">
    <div class="card-title">Новости (Stocks)</div>
    <div id="news-stocks" class="news-list"></div>
  </div>
  <div class="card"><div class="card-title">Котировки</div><div id="stocks-only" class="list"></div></div>
  <div class="card"><div class="card-title">AAPL — график</div><canvas id="chart-aapl-tab"></canvas></div>
</section>

      <section id="commodities" class="view">
  <div class="card top-news">
    <div class="card-title">Новости (Commodities)</div>
    <div id="news-commodities" class="news-list"></div>
  </div>
  <div class="card"><div class="card-title">Котировки</div><div id="commodities-only" class="list"></div></div>
  <div class="card"><div class="card-title">GOLD — график</div><canvas id="chart-gold-tab"></canvas></div>
</section>

      <section id="profile" class="view">
        <div class="card">
          <div class="card-title">Профиль</div>
          <div class="muted">Здесь будут настройки, риск-профиль и уведомления.</div>
        </div>
      </section>
    </main>

    <footer class="build">build: private-banking (welcome → app, tabs, API)</footer>
  </section>

  <script src="app.js?v=17" defer></script>
</body>
</html>
